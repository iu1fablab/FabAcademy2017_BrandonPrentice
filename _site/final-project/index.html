<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Final Project</title>
  <meta name="description" content="This is the official archive for Brandon Prentice&#39;s Fab Academy assignments. The Fab Academy was developed to teach hands-on skills in fab labs and began as ...">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="http://localhost:4000/final-project/">
  <link rel="alternate" type="application/rss+xml" title="Brandon Prentice - Fab Academy" href="/feed.xml">
  
  
</head>


  <body>

    <header class="site-header" role="banner">

  <div class="wrapper">

  <a class="site-title" href="/">Brandon Prentice - Fab Academy</a>

    <nav class="site-nav">
      <span class="menu-icon">
        <svg viewBox="0 0 18 15" width="18px" height="15px">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </span>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
          <a class="page-link" href="/assignments/">Assignments</a>
          
        
          
          <a class="page-link" href="/final-project/">Final Project</a>
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Final Project</h1>
  </header>

  <div class="post-content">
    <h1 id="diy-digital-clock-lesson"><strong>DIY Digital Clock Lesson</strong></h1>

<p>The idea is to adapt what I’ve been learning in Fab Academy to create a project that can be used as an advance high school lesson. This project is to design and program a copper-traced board that is cut from our milling machines. Once the circuit is done, a casing will then be designed and created from one of many fabrication processes we offer in our Fab Lab program.</p>

<p>I started this project by designing a enclosure for the circuit. I looked around for a through-hole kit that was already designed to base my schematic off of for surface mounting.</p>

<center><img class="bordered-image" src="/IMGs/finalproject1.jpg" alt="circuit from china" height="300" /></center>

<style type="text/css">
	.bordered-image {
		border: 5px solid;
	}

/*	#fab-lab-logo {
		min-width: 100%;
	}*/
</style>

<p><br /></p>

<h1 id="designing-a-casing-through-vectors-adobe-illustrator"><strong>Designing a Casing Through Vectors (Adobe Illustrator)</strong></h1>

<p>I started by utilizing <a href="http://makercase.com">www.makercase.com</a> which is a simple sketch generator to design a basic box shape with a percise finger joint layout. I chose this program because of it all being parametric, and good for projects with joinery. Once I plugged in the few parameter questions, it generated a .SVG file which can then be pulled into other vectoring software. I decided to experiment with Adobe Illustrator by importing, designing, and manipulating the file that will somday be either lasercut or CNC milled.</p>

<center>
<img src="/IMGs/update11.jpg" alt="update11" width="90%" />
</center>

<p><br /></p>

<p><strong>Using Adobe Illustrator:</strong></p>

<p>To make this kind of design, I knew I would need a software that is great with node editing features that is also better than Inkscape. I’ve personally only used CorelDRAW in my lab during my time here as manager so I wanted to see the difference in this software. Obviously, the 2 liscenses are more alike than different. The only major differences is the tool layouts and labels for those tool features.</p>

<p><strong>Features Used:</strong></p>

<blockquote>
  <p>Type Tool (With Features)</p>
</blockquote>

<blockquote>
  <p>Various Line Segment Tools</p>
</blockquote>

<blockquote>
  <p>Direct Select Tool (Node Editing)</p>
</blockquote>

<blockquote>
  <p>Image Trace (Pixels into Vectors)</p>
</blockquote>

<center>
<img src="/IMGs/finalproject2.jpg" alt="ai screenshot1" width="98%" />
</center>

<p><br /></p>
<h1 id="designing-a-casing-through-3d-modeling-google-sketchup"><strong>Designing a Casing Through 3D Modeling (Google SketchUp)</strong></h1>

<p>As a option for our students, I am considering 3D printing as a viable option to create their casing. Below is a version I made that took just around 1-2 hours to print, which is considerable time for me to instruct a small class from my mobile lab.</p>

<p><strong>Using Google SketchUp:</strong></p>

<p>To incorporate the 3D modeling aspect for my project, I thought of using SketchUp as my primary learning tool. I’ve taught in Elem/Middle school areas when it comes to this kind of 3D printing where it can be simple, fun, and very accessable to the students. Other software that I have used for this kind of application include Tinkercad &amp; 123D Design. I always found those two programs very similar on how they manipulate shapes and wanted to go a slightly different way. SketchUp is free like the others so I found this appealing to adapt in these same sort of classes I teach, where even younger students can load this program on their own personal computer.</p>

<p>I started with a simple cube shape where I subtracted away all of the hollow areas that you see in the pictures below. Once I made my guesses on where to put the openings for the buttons &amp; 7-segment display, I “pushed” the 2D shapes inward to subtrate the material away. My last step was to add the 3D text on top, extruding it in such a way that I can switch colors of filiment during prints to bring out more contrast.</p>

<center>
<img src="/IMGs/update10.jpg" alt="update10" width="90%" />
</center>

<p><br /></p>

<p><strong>Features Used:</strong></p>

<blockquote>
  <p>Rectangle</p>
</blockquote>

<blockquote>
  <p>3D Text</p>
</blockquote>

<blockquote>
  <p>Push/Pull</p>
</blockquote>

<blockquote>
  <p>Navagation Tools (Move, Rotate, Offset, Orbit, etc.)</p>
</blockquote>

<blockquote>
  <p>Tape Measure Tool</p>
</blockquote>

<blockquote>
  <p>Paint Bucket</p>
</blockquote>

<center>
<img src="/IMGs/finalproject3.jpg" alt="sketchup screenshot1" width="98%" />
</center>

<p><br /></p>

<h1 id="making-the-1st-schematic-attempt"><strong>Making the 1st Schematic Attempt</strong></h1>

<p>I starting this process by studying the schematic/parts list for the orginal circuit I bought from China. Once I understood all of the parts, I went to our class archives to pull the Barduino board design to start from.</p>

<center>
<img src="/IMGs/finalproject4.jpg" alt="china schematic" width="98%" />
</center>

<p><br /></p>

<h1 id="official-barduino-schematic"><strong>Official Barduino Schematic:</strong></h1>

<center>
<img src="/IMGs/finalproject5.jpg" alt="barduino" width="98%" />
</center>

<p><br /></p>

<p>From reviewing our Fab Lab inventory again with our SMDs in particular, I drafted a Google sheet organizing parts that our lab has already along with parts I need attached to specific vendors I found selling them cheap.</p>

<p><a href="https://docs.google.com/spreadsheets/d/15Tqll60QXBNMJWXsO1DBHgZAjhQ_d-58CE0piwSD-2s/edit#gid=687980215">Both Original and Surface Mounted Materials Chart</a></p>

<p>Using Eagle, I drafted the first schematic from the barduino by adding the buzzer, USB power supply, 7 segment display, and the buttons. Once completed, I traced everything appropriately, having the 7 segment display hovering over the entire board from extra legnth prongs that will still be soldered onto with surface mounts.</p>

<center>
<img src="/IMGs/finalproject6.jpg" alt="clock schematic 1" width="98%" />
</center>

<center>
<img src="/IMGs/finalproject7.jpg" alt="clock tracing 1" width="98%" />
</center>

<center>
<img src="/IMGs/finalproject8.jpg" alt="milling clock circuit" width="48%" />
<img src="/IMGs/finalproject9.jpg" alt="soldering clock circuit" width="48%" />
</center>

<p><br /></p>

<center>
<img src="/IMGs/finalproject10.jpg" alt="soldered board" width="48%" />
<img src="/IMGs/finalproject11.jpg" alt="plugged in clock" width="48%" />
</center>

<p><br /></p>

<p><strong>Reflecting on 1st Schematic Attempt</strong></p>

<p>Improvements to consider:</p>
<ol>
  <li>Eliminating the x4 (499ohm) resistors going into the display (doing this does not burn out LEDs)</li>
  <li>Slightly moving over the 6 pin programming header so display doesn’t have to be unplugged to upload program.</li>
  <li>Create a larger footprint for the (16mHz) crystal for easier soldering.</li>
</ol>

<p><br /></p>

<p><strong>Connecting to the “Satshakit” (Arduino Uno Clone)</strong></p>

<p>Using my Arduino Clone that I’ve re-traced in earlier assignments, I was now able to program with Arduino IDE to set up the code shown further below. The reason for all of the excess wires/breadboard usage was due to having no female plugs for the header pins.</p>

<center>
<img src="/IMGs/finalproject12.jpg" alt="Satshakit connected to clock" width="90%" />
</center>

<p><br /></p>

<p>After the connections were made, I preceded by first uploading the “TimerOne” library onto the IDE and then sending the file over with the command “Upload Using Programmer” under the Sketch tab.</p>

<p><br /></p>

<h1 id="setting-up-the-program"><strong>Setting Up the Program:</strong></h1>

<p>The first task involved with writing the program was getting the display to work. I used the <a href="http://www.taydaelectronics.com/datasheets/A-1730.pdf">7 segment display datasheet</a>to determine the function of each pin. I wrote code to set the segment pins correctly to display a digit. The display is multiplexed so only one digit can actually be displayed at a time but uses the ATMega’s speed to display each digit sequentially many times a second. This speed tricks the eye into thinking that all of the digits are displayed simultaneously.</p>

<p>The next task was using the ATMega’s timer to accurately count in one second intervals. I used the TimerOne library to abstract away the technical details so I only had to write the time handling code that occurs every second. Since this clock uses 12 hour time, I also added an AM and PM LED which are set depending on the time of day.</p>

<p>I added button control code which treats the buttons as interrupts and debounces their switching. This results in quick button detection and smooth switching. I used the tone() function to send a little beep to the buzzer so the user knows when the button is pressed. This buzzer is also used to sound an hourly chime and play the alarm when it goes off.</p>

<p>The last task was adding the software control to mimic the original clock’s functionality. The left button cycles through setting the hour and minute, turning the hourly chime on or off, setting the hour and minute of the alarm, and turning that alarm on or off. When the clock is in normal operation, pressing the right button switches between HH:MM display and MM:SS for keeping accurate track of time.</p>

<div style="height: 500px; overflow-y: auto;">

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579</pre></td><td class="code"><pre><span class="cp">#include &lt;TimerOne.h&gt;
</span>
<span class="c1">// letter n for displaying "on"
</span><span class="cp">#define N 16
</span><span class="c1">// special parameters to handle decimal point
</span><span class="cp">#define DP_ON 17
</span><span class="c1">// this is a general parameter to turn any segment off
</span><span class="cp">#define BLANK 18
</span>
<span class="c1">// pinouts for common cathode 7 segment LED display:
</span>
<span class="c1">// segment is active high
// segment | display | header | mcu
// A  11 D9  PB1
// B  7  D5  PD5
// C  4  D0  PD0
// D  2  A3  PC3
// E  1  A2  PC2
// F  10 D8  PB0
// G  5  D1  PD1
// DP 3  A4  PC4
</span>
<span class="c1">// digit is active low
// digit | display | header | mcu
// 1  12 D10 PB2
// 2  9  D7  PD7
// 3  8  D6  PD6
// 4  6  D2  PD2
</span>
<span class="c1">// settings state
// these values make the code easier
</span><span class="cp">#define DISPLAY 9
#define SET_HR 0xA
#define SET_MIN 0xB
#define SET_CHIME 0xC
#define SET_ALARM 0xD
#define SET_ALARM_HR 0xE
#define SET_ALARM_MIN 0xF
</span>
<span class="kt">void</span> <span class="n">ledSetup</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">ledAm</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">ledPm</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">buttonsSetup</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">buttonsS1</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">buttonsS2</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">nextSettingState</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">increaseSecond</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">increaseHour</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">displaySetup</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">displayDigits</span><span class="p">(</span><span class="kt">int</span> <span class="n">dig1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">dig2</span><span class="p">,</span> <span class="kt">int</span> <span class="n">dp</span><span class="p">,</span> <span class="kt">int</span> <span class="n">dig3</span><span class="p">,</span> <span class="kt">int</span> <span class="n">dig4</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">setDigit</span><span class="p">(</span><span class="kt">int</span> <span class="n">digit</span><span class="p">,</span> <span class="kt">int</span> <span class="n">number</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">setSegment</span><span class="p">(</span><span class="kt">int</span> <span class="n">number</span><span class="p">);</span>


<span class="c1">// displaying time
</span><span class="kt">int</span> <span class="n">sec</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">min_1</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">min_10</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">hr</span> <span class="o">=</span> <span class="mi">12</span><span class="p">;</span>

<span class="c1">// decimal point
</span><span class="kt">int</span> <span class="n">dp</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="c1">// switch between HH:MM and MM:SS
</span><span class="kt">int</span> <span class="n">hr_display</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="c1">// differentiate between AM and PM
// 0 = AM // 1 = PM
</span><span class="kt">int</span> <span class="n">time_of_day</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="c1">// default to display mode
</span><span class="kt">int</span> <span class="n">settings_mode</span> <span class="o">=</span> <span class="n">DISPLAY</span><span class="p">;</span>

<span class="c1">// hourly chime on or off
</span><span class="kt">int</span> <span class="n">hr_chime_enabled</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="c1">// alarm on or off
</span><span class="kt">int</span> <span class="n">alarm_enabled</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="c1">// alarm time
</span><span class="kt">int</span> <span class="n">alarm_hr</span> <span class="o">=</span> <span class="mi">12</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">alarm_min</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="c1">// capture only 1 button press (kinda like debouncing)
</span><span class="kt">int</span> <span class="n">buttonBlockA0</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">buttonBlockA1</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// set display pins to outputs
</span>  <span class="n">displaySetup</span><span class="p">();</span>
  
  <span class="c1">// set LED pin to output
</span>  <span class="n">ledSetup</span><span class="p">();</span>

  <span class="c1">// set button pins to interrupt-enabled inputs
</span>  <span class="n">buttonsSetup</span><span class="p">();</span>

  <span class="c1">// setup timer for 1 second tick
</span>  <span class="n">Timer1</span><span class="p">.</span><span class="n">initialize</span><span class="p">(</span><span class="mi">1000000</span><span class="p">);</span>
  <span class="n">Timer1</span><span class="p">.</span><span class="n">attachInterrupt</span><span class="p">(</span><span class="n">increaseSecond</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// displayDigits in loop so they keep updating
</span>
  <span class="c1">// default display mode
</span>  <span class="k">if</span> <span class="p">(</span><span class="n">settings_mode</span> <span class="o">==</span> <span class="n">DISPLAY</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// HH:MM
</span>    <span class="k">if</span><span class="p">(</span><span class="n">hr_display</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">displayDigits</span><span class="p">(</span><span class="n">hr</span><span class="o">/</span><span class="mi">10</span><span class="p">,</span> <span class="n">hr</span><span class="o">%</span><span class="mi">10</span><span class="p">,</span> <span class="n">dp</span><span class="p">,</span> <span class="n">min_10</span><span class="p">,</span> <span class="n">min_1</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="c1">// MM:SS
</span>    <span class="k">else</span>
    <span class="p">{</span>
      <span class="n">displayDigits</span><span class="p">(</span><span class="n">min_10</span><span class="p">,</span> <span class="n">min_1</span><span class="p">,</span> <span class="n">dp</span><span class="p">,</span> <span class="n">sec</span><span class="o">/</span><span class="mi">10</span><span class="p">,</span> <span class="n">sec</span><span class="o">%</span><span class="mi">10</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">settings_mode</span> <span class="o">==</span> <span class="n">SET_HR</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">displayDigits</span><span class="p">(</span><span class="n">SET_HR</span><span class="p">,</span> <span class="n">BLANK</span><span class="p">,</span> <span class="n">BLANK</span><span class="p">,</span> <span class="n">hr</span><span class="o">/</span><span class="mi">10</span><span class="p">,</span> <span class="n">hr</span><span class="o">%</span><span class="mi">10</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">settings_mode</span> <span class="o">==</span> <span class="n">SET_MIN</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">displayDigits</span><span class="p">(</span><span class="n">SET_MIN</span><span class="p">,</span> <span class="n">BLANK</span><span class="p">,</span> <span class="n">BLANK</span><span class="p">,</span> <span class="n">min_10</span><span class="p">,</span> <span class="n">min_1</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">settings_mode</span> <span class="o">==</span> <span class="n">SET_CHIME</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// on
</span>    <span class="k">if</span> <span class="p">(</span><span class="n">hr_chime_enabled</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">displayDigits</span><span class="p">(</span><span class="n">SET_CHIME</span><span class="p">,</span> <span class="n">BLANK</span><span class="p">,</span> <span class="n">BLANK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">N</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="c1">// off
</span>    <span class="k">else</span>
    <span class="p">{</span>
      <span class="n">displayDigits</span><span class="p">(</span><span class="n">SET_CHIME</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">BLANK</span><span class="p">,</span> <span class="mh">0xF</span><span class="p">,</span> <span class="mh">0xF</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">settings_mode</span> <span class="o">==</span> <span class="n">SET_ALARM</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// on
</span>    <span class="k">if</span> <span class="p">(</span><span class="n">alarm_enabled</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">displayDigits</span><span class="p">(</span><span class="n">SET_ALARM</span><span class="p">,</span> <span class="n">BLANK</span><span class="p">,</span> <span class="n">BLANK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">N</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="c1">// off
</span>    <span class="k">else</span>
    <span class="p">{</span>
      <span class="n">displayDigits</span><span class="p">(</span><span class="n">SET_ALARM</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">BLANK</span><span class="p">,</span> <span class="mh">0xF</span><span class="p">,</span> <span class="mh">0xF</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">settings_mode</span> <span class="o">==</span> <span class="n">SET_ALARM_HR</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">displayDigits</span><span class="p">(</span><span class="n">SET_ALARM_HR</span><span class="p">,</span> <span class="n">BLANK</span><span class="p">,</span> <span class="n">BLANK</span><span class="p">,</span> <span class="n">alarm_hr</span><span class="o">/</span><span class="mi">10</span><span class="p">,</span> <span class="n">alarm_hr</span><span class="o">%</span><span class="mi">10</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">settings_mode</span> <span class="o">==</span> <span class="n">SET_ALARM_MIN</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">displayDigits</span><span class="p">(</span><span class="n">SET_ALARM_MIN</span><span class="p">,</span> <span class="n">BLANK</span><span class="p">,</span> <span class="n">BLANK</span><span class="p">,</span> <span class="n">alarm_min</span><span class="o">/</span><span class="mi">10</span><span class="p">,</span> <span class="n">alarm_min</span><span class="o">%</span><span class="mi">10</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// correctly move through settings states
</span><span class="kt">void</span> <span class="nf">nextSettingState</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">// if you've turned alarm off, dont't set it, go back to display
</span>  <span class="k">if</span> <span class="p">((</span><span class="n">settings_mode</span> <span class="o">==</span> <span class="n">SET_ALARM</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">alarm_enabled</span> <span class="o">==</span> <span class="mi">0</span><span class="p">))</span>
  <span class="p">{</span>
    <span class="n">settings_mode</span> <span class="o">=</span> <span class="n">DISPLAY</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="c1">// last setting, go back to display
</span>  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">settings_mode</span> <span class="o">==</span> <span class="n">SET_ALARM_MIN</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">settings_mode</span> <span class="o">=</span> <span class="n">DISPLAY</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="c1">// else just go to next state
</span>  <span class="k">else</span><span class="p">{</span>
    <span class="n">settings_mode</span><span class="o">++</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// stop counting time when you're trying to set it
</span>  <span class="k">if</span> <span class="p">(</span><span class="n">settings_mode</span> <span class="o">==</span> <span class="n">SET_HR</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// disable timer counter
</span>    <span class="n">Timer1</span><span class="p">.</span><span class="n">stop</span><span class="p">();</span>

    <span class="c1">// also reset seconds for good measure
</span>    <span class="n">sec</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="c1">// start counting after you've set the time
</span>  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">settings_mode</span> <span class="o">==</span> <span class="n">SET_CHIME</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// restart timer counter
</span>    <span class="n">Timer1</span><span class="p">.</span><span class="n">restart</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// increase hour by 1 and handle AM/PM
</span><span class="kt">void</span> <span class="nf">increaseHour</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">// play chime on the hour if enabled
</span>  <span class="k">if</span> <span class="p">(</span><span class="n">hr_chime_enabled</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// send 133 frequency tone for 70 ms to pin 3
</span>    <span class="n">tone</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">133</span><span class="p">,</span> <span class="mi">70</span><span class="p">);</span>
  <span class="p">}</span>
  
  <span class="k">if</span> <span class="p">(</span><span class="o">++</span><span class="n">hr</span><span class="o">==</span><span class="mi">13</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">hr</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>

    <span class="c1">// flip between AM and PM
</span>    <span class="n">time_of_day</span> <span class="o">^=</span> <span class="mi">1</span><span class="p">;</span>

    <span class="c1">// change LED to match
</span>    <span class="k">if</span> <span class="p">(</span><span class="n">time_of_day</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">ledPm</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="k">else</span><span class="p">{</span>
      <span class="n">ledAm</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// AM/PM LED is on D4 PD4
</span><span class="kt">void</span> <span class="nf">ledSetup</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">DDRD</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">DDD4</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// low is AM
</span><span class="kt">void</span> <span class="nf">ledAm</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">PORTD</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD4</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// high is PM
</span><span class="kt">void</span> <span class="nf">ledPm</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">PORTD</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD4</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Hack to get pin change interrupts on analog pins
// http://www.geertlangereis.nl/Electronics/Pin_Change_Interrupts/PinChange_en.html
</span><span class="kt">void</span> <span class="nf">buttonsSetup</span><span class="p">()</span>
<span class="p">{</span>
  <span class="c1">// set button pins as inputs with internal pull-ups enabled
</span>  <span class="n">pinMode</span><span class="p">(</span><span class="n">A0</span><span class="p">,</span> <span class="n">INPUT</span><span class="p">);</span>
  <span class="n">digitalWrite</span><span class="p">(</span><span class="n">A0</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>
  <span class="n">pinMode</span><span class="p">(</span><span class="n">A1</span><span class="p">,</span> <span class="n">INPUT</span><span class="p">);</span>
  <span class="n">digitalWrite</span><span class="p">(</span><span class="n">A1</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>

  <span class="c1">// switch interrupts off while messing with their settings  
</span>  <span class="n">cli</span><span class="p">();</span>
  <span class="c1">// Enable PCINT1 interrupt
</span>  <span class="n">PCICR</span> <span class="o">=</span><span class="mh">0x02</span><span class="p">;</span>
  <span class="n">PCMSK1</span> <span class="o">=</span> <span class="mi">0</span><span class="n">b00000111</span><span class="p">;</span>
  <span class="c1">// turn interrupts back on
</span>  <span class="n">sei</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// Interrupt service routine for every analog pin change
// A0, A1, A2, A3, A4, A5
</span><span class="n">ISR</span><span class="p">(</span><span class="n">PCINT1_vect</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// press A0
</span>  <span class="k">if</span> <span class="p">(</span><span class="n">digitalRead</span><span class="p">(</span><span class="n">A0</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">buttonBlockA0</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// set to 10
</span>    <span class="n">buttonBlockA0</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
    <span class="c1">// send 133 frequency tone for 70 ms to pin 3
</span>    <span class="n">tone</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">133</span><span class="p">,</span> <span class="mi">70</span><span class="p">);</span>
    <span class="n">buttonS1</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="c1">// release A0
</span>  <span class="k">if</span> <span class="p">(</span><span class="n">digitalRead</span><span class="p">(</span><span class="n">A0</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// count down after releasing
</span>    <span class="k">if</span> <span class="p">(</span><span class="n">buttonBlockA0</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">buttonBlockA0</span><span class="o">--</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// press A1
</span>  <span class="k">if</span> <span class="p">(</span><span class="n">digitalRead</span><span class="p">(</span><span class="n">A1</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">buttonBlockA1</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// set to 10
</span>    <span class="n">buttonBlockA1</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
    <span class="c1">// send 133 frequency tone for 70 ms to pin 3
</span>    <span class="n">tone</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">133</span><span class="p">,</span> <span class="mi">70</span><span class="p">);</span>
    <span class="n">buttonS2</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="c1">// release A1
</span>  <span class="k">if</span> <span class="p">(</span><span class="n">digitalRead</span><span class="p">(</span><span class="n">A1</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// count down after releasing
</span>    <span class="k">if</span> <span class="p">(</span><span class="n">buttonBlockA1</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">buttonBlockA1</span><span class="o">--</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">buttonS1</span><span class="p">()</span>
<span class="p">{</span>
  <span class="c1">// go to next settings state
</span>  <span class="n">nextSettingState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">buttonS2</span><span class="p">()</span>
<span class="p">{</span>    
  <span class="c1">// need to be in display mode to change
</span>  <span class="k">if</span> <span class="p">(</span><span class="n">settings_mode</span> <span class="o">==</span> <span class="n">DISPLAY</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// switch between HH:MM and MM:SS
</span>    <span class="n">hr_display</span> <span class="o">^=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="c1">// else in some settings mode...
</span>  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">settings_mode</span> <span class="o">==</span> <span class="n">SET_HR</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">increaseHour</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">settings_mode</span> <span class="o">==</span> <span class="n">SET_MIN</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">++</span><span class="n">min_1</span><span class="o">==</span><span class="mi">10</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">min_1</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="o">++</span><span class="n">min_10</span><span class="o">==</span><span class="mi">6</span><span class="p">)</span>
      <span class="p">{</span>
        <span class="n">min_10</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">settings_mode</span> <span class="o">==</span> <span class="n">SET_CHIME</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// switch between hourly chime enabled and disabled
</span>    <span class="n">hr_chime_enabled</span> <span class="o">^=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">settings_mode</span> <span class="o">==</span> <span class="n">SET_ALARM</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// switch between alarm enabled and disabled
</span>    <span class="n">alarm_enabled</span> <span class="o">^=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">settings_mode</span> <span class="o">==</span> <span class="n">SET_ALARM_HR</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">++</span><span class="n">alarm_hr</span><span class="o">==</span><span class="mi">13</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">alarm_hr</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">settings_mode</span> <span class="o">==</span> <span class="n">SET_ALARM_MIN</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">++</span><span class="n">alarm_min</span><span class="o">==</span><span class="mi">60</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">alarm_min</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// action to be done every 1 sec
</span><span class="kt">void</span> <span class="n">increaseSecond</span><span class="p">()</span>
<span class="p">{</span>
	<span class="c1">//keep track of time
</span>	<span class="c1">// using 2 instead of 60 to make it faster
</span>	<span class="k">if</span> <span class="p">(</span><span class="o">++</span><span class="n">sec</span><span class="o">==</span><span class="mi">60</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">sec</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
		<span class="c1">// minutes
</span>		<span class="k">if</span> <span class="p">(</span><span class="o">++</span><span class="n">min_1</span><span class="o">==</span><span class="mi">10</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">min_1</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
			<span class="k">if</span> <span class="p">(</span><span class="o">++</span><span class="n">min_10</span><span class="o">==</span><span class="mi">6</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="n">min_10</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
				<span class="n">increaseHour</span><span class="p">();</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="c1">// flip decimal point every second
</span>	<span class="n">dp</span> <span class="o">^=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>


<span class="c1">// set display pins to outputs
</span><span class="kt">void</span> <span class="n">displaySetup</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">DDRB</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">DDB1</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">DDB0</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">DDB2</span><span class="p">);</span> <span class="c1">// A F 1
</span>  <span class="n">DDRC</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">DDC3</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">DDC2</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">DDC4</span><span class="p">);</span> <span class="c1">// D E DP
</span>  <span class="n">DDRD</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">DDD5</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">DDD0</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">DDD1</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">DDD7</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">DDD6</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">DDD2</span><span class="p">);</span> <span class="c1">// B C G 2 3 4
</span><span class="p">}</span>

<span class="c1">// cycle through and display each digit
// dp is for decimal point: 0 for off; 1 for on
// TODO: make dp a bool?
// TODO: put dp last so it doesn't affect dig2's brightness?
</span><span class="kt">void</span> <span class="n">displayDigits</span><span class="p">(</span><span class="kt">int</span> <span class="n">dig1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">dig2</span><span class="p">,</span> <span class="kt">int</span> <span class="n">dp</span><span class="p">,</span> <span class="kt">int</span> <span class="n">dig3</span><span class="p">,</span> <span class="kt">int</span> <span class="n">dig4</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">setDigit</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">dig1</span><span class="p">);</span>
  <span class="n">setDigit</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">dig2</span><span class="p">);</span>
  <span class="n">setDigit</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dig3</span><span class="p">);</span>
  <span class="n">setDigit</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">dig4</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">dp</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// display decimal point (special parameter)
</span>    <span class="n">setDigit</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">DP_ON</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">else</span>
  <span class="p">{</span>
    <span class="c1">// dont't display decimal point (special parameter)
</span>    <span class="n">setDigit</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">BLANK</span><span class="p">);</span>
  <span class="p">}</span>

<span class="p">}</span>

<span class="c1">// display a number on the selected digit 1, 2, 3, or 4
// TODO: add range checks
</span><span class="kt">void</span> <span class="n">setDigit</span><span class="p">(</span><span class="kt">int</span> <span class="n">digit</span><span class="p">,</span> <span class="kt">int</span> <span class="n">number</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">// turn all digits off
</span>  <span class="n">PORTB</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB2</span><span class="p">);</span> <span class="c1">// 1
</span>  <span class="n">PORTD</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD7</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD6</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD2</span><span class="p">);</span> <span class="c1">// 2 3 4
</span>
  <span class="c1">// set up segments while digits off,
</span>  <span class="c1">// so that the full digit comes up simultanously
</span>  <span class="c1">// (although who is going to be able to detect a couple clk cycles?)
</span>  <span class="n">setSegment</span><span class="p">(</span><span class="n">number</span><span class="p">);</span>

  <span class="c1">// then turn on specfic digit
</span>  <span class="k">switch</span><span class="p">(</span><span class="n">digit</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>
    <span class="c1">// TODO: ONLY when display hours,
</span>    <span class="c1">// don't display leading 0
</span>    <span class="c1">//if (number != 0)
</span>    <span class="c1">//{
</span>        <span class="n">PORTB</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB2</span><span class="p">);</span> <span class="c1">// 1
</span>    <span class="c1">//}
</span>      <span class="k">break</span><span class="p">;</span>
    <span class="c1">// this case also handles decimal point
</span>    <span class="k">case</span> <span class="mi">2</span><span class="p">:</span>
      <span class="n">PORTD</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD7</span><span class="p">);</span> <span class="c1">// 2
</span>      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">3</span><span class="p">:</span>
      <span class="n">PORTD</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD6</span><span class="p">);</span> <span class="c1">// 3
</span>      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">4</span><span class="p">:</span>
      <span class="n">PORTD</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD2</span><span class="p">);</span> <span class="c1">// 4
</span>      <span class="k">break</span><span class="p">;</span>
    <span class="c1">//default:
</span>      <span class="c1">// bad - should't be here
</span>  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// display a number or symbol using the 7 segments
// number can be between 0-9 or settings screen uses A-F
// TODO: add range checks
</span><span class="kt">void</span> <span class="n">setSegment</span><span class="p">(</span><span class="kt">int</span> <span class="n">number</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">// first, reset all segments
</span>  <span class="n">PORTB</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB1</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB0</span><span class="p">);</span> <span class="c1">// A F
</span>  <span class="n">PORTC</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTC4</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTC3</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTC2</span><span class="p">);</span> <span class="c1">// DP D E
</span>  <span class="n">PORTD</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD5</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD0</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD1</span><span class="p">);</span> <span class="c1">// B C G
</span>
  <span class="c1">// then set the coorespoding segments
</span>  <span class="k">switch</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">case</span> <span class="mi">0</span><span class="p">:</span>
      <span class="c1">// A B C D E F
</span>      <span class="n">PORTB</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB1</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB0</span><span class="p">);</span> <span class="c1">// A F
</span>      <span class="n">PORTC</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTC3</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTC2</span><span class="p">);</span> <span class="c1">// D E
</span>      <span class="n">PORTD</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD5</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD0</span><span class="p">);</span> <span class="c1">// B C
</span>      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>
      <span class="c1">// B C
</span>      <span class="n">PORTD</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD5</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD0</span><span class="p">);</span> <span class="c1">// B C
</span>      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">2</span><span class="p">:</span>
      <span class="c1">// A B D E G
</span>      <span class="n">PORTB</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB1</span><span class="p">);</span> <span class="c1">// A
</span>      <span class="n">PORTC</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTC3</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTC2</span><span class="p">);</span> <span class="c1">// D E
</span>      <span class="n">PORTD</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD5</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD1</span><span class="p">);</span> <span class="c1">// B G
</span>      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">3</span><span class="p">:</span>
      <span class="c1">// A B C D G
</span>      <span class="n">PORTB</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB1</span><span class="p">);</span> <span class="c1">// A
</span>      <span class="n">PORTC</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTC3</span><span class="p">);</span> <span class="c1">// D E
</span>      <span class="n">PORTD</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD5</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD0</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD1</span><span class="p">);</span> <span class="c1">// B C G
</span>      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">4</span><span class="p">:</span>
      <span class="c1">// B C F G
</span>      <span class="n">PORTB</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB0</span><span class="p">);</span> <span class="c1">// F
</span>      <span class="n">PORTD</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD5</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD0</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD1</span><span class="p">);</span> <span class="c1">// B C G
</span>      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">5</span><span class="p">:</span>
      <span class="c1">// A C D F G
</span>      <span class="n">PORTB</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB1</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB0</span><span class="p">);</span> <span class="c1">// A F
</span>      <span class="n">PORTC</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTC3</span><span class="p">);</span> <span class="c1">// D
</span>      <span class="n">PORTD</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD0</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD1</span><span class="p">);</span> <span class="c1">// C G
</span>      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">6</span><span class="p">:</span>
      <span class="c1">// A C D E F G
</span>      <span class="n">PORTB</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB1</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB0</span><span class="p">);</span> <span class="c1">// A F
</span>      <span class="n">PORTC</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTC3</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTC2</span><span class="p">);</span> <span class="c1">// D E
</span>      <span class="n">PORTD</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD0</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD1</span><span class="p">);</span> <span class="c1">// C G
</span>      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">7</span><span class="p">:</span>
      <span class="c1">// A B C
</span>      <span class="n">PORTB</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB1</span><span class="p">);</span> <span class="c1">// A
</span>      <span class="n">PORTD</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD5</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD0</span><span class="p">);</span> <span class="c1">// B C
</span>      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">8</span><span class="p">:</span>
      <span class="c1">// A B C D E F G
</span>      <span class="n">PORTB</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB1</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB0</span><span class="p">);</span> <span class="c1">// A F
</span>      <span class="n">PORTC</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTC3</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTC2</span><span class="p">);</span> <span class="c1">// D E
</span>      <span class="n">PORTD</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD5</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD0</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD1</span><span class="p">);</span> <span class="c1">// B C G
</span>      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">9</span><span class="p">:</span>
      <span class="c1">// A B C D F G
</span>      <span class="n">PORTB</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB1</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB0</span><span class="p">);</span> <span class="c1">// A F
</span>      <span class="n">PORTC</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTC3</span><span class="p">);</span> <span class="c1">// D
</span>      <span class="n">PORTD</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD5</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD0</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD1</span><span class="p">);</span> <span class="c1">// B C G
</span>      <span class="k">break</span><span class="p">;</span>
    <span class="c1">// TODO: maybe use typedefs here instead?
</span>    <span class="k">case</span> <span class="mh">0xA</span><span class="p">:</span>
      <span class="c1">// A B C E F G
</span>      <span class="n">PORTB</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB1</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB0</span><span class="p">);</span> <span class="c1">// A F
</span>      <span class="n">PORTC</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTC2</span><span class="p">);</span> <span class="c1">// E
</span>      <span class="n">PORTD</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD5</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD0</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD1</span><span class="p">);</span> <span class="c1">// B C G
</span>      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mh">0xB</span><span class="p">:</span>
      <span class="c1">// A B C D E F G
</span>      <span class="n">PORTB</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB1</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB0</span><span class="p">);</span> <span class="c1">// A F
</span>      <span class="n">PORTC</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTC3</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTC2</span><span class="p">);</span> <span class="c1">// D E
</span>      <span class="n">PORTD</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD5</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD0</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD1</span><span class="p">);</span> <span class="c1">// B C G
</span>      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mh">0xC</span><span class="p">:</span>
      <span class="c1">// A D E F
</span>      <span class="n">PORTB</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB1</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB0</span><span class="p">);</span> <span class="c1">// A F
</span>      <span class="n">PORTC</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTC3</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTC2</span><span class="p">);</span> <span class="c1">// D E
</span>      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mh">0xD</span><span class="p">:</span>
      <span class="c1">// A B C D E F
</span>      <span class="n">PORTB</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB1</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB0</span><span class="p">);</span> <span class="c1">// A F
</span>      <span class="n">PORTC</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTC3</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTC2</span><span class="p">);</span> <span class="c1">// D E
</span>      <span class="n">PORTD</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD5</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD0</span><span class="p">);</span> <span class="c1">// B C
</span>      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mh">0xE</span><span class="p">:</span>
      <span class="c1">// A D E F G
</span>      <span class="n">PORTB</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB1</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB0</span><span class="p">);</span> <span class="c1">// A F
</span>      <span class="n">PORTC</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTC3</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTC2</span><span class="p">);</span> <span class="c1">// D E
</span>      <span class="n">PORTD</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD1</span><span class="p">);</span> <span class="c1">// G
</span>      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mh">0xF</span><span class="p">:</span>
      <span class="c1">// A E F G
</span>      <span class="n">PORTB</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB1</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB0</span><span class="p">);</span> <span class="c1">// A F
</span>      <span class="n">PORTC</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTC2</span><span class="p">);</span> <span class="c1">// E
</span>      <span class="n">PORTD</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD1</span><span class="p">);</span> <span class="c1">// G
</span>      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="n">N</span><span class="p">:</span>
      <span class="c1">// A B C E F
</span>      <span class="n">PORTB</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB1</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTB0</span><span class="p">);</span> <span class="c1">// A F
</span>      <span class="n">PORTC</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTC2</span><span class="p">);</span> <span class="c1">// E
</span>      <span class="n">PORTD</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD5</span> <span class="o">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTD0</span><span class="p">);</span> <span class="c1">// B C
</span>      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="n">DP_ON</span><span class="p">:</span>
      <span class="c1">// DP
</span>      <span class="n">PORTC</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PORTC4</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="c1">//default:
</span>      <span class="c1">// case BLANK falls through here
</span>      <span class="c1">// just turns off the segment by initial "reset all segments" code
</span>  <span class="p">}</span>
<span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

</div>

<p><br /></p>

<p><strong>Operations:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>Press left button to go into setup menus and then using 
both buttons to change the folowing inputs:

A: Set Time Hours

B: Set Time Minutes

C: Set Hourly Chime (On/Off)

D: Activate Alarm (On/Off)

E: Set Alarm Hours

F: Set Alarm Minutes

Press right button to switch from displaying 
Hours/Mins to Mins/Secs
</code></pre>
</div>

<p><br /></p>

<center>
<iframe width="560" height="315" src="https://www.youtube.com/embed/mvyRJu7DUWM" frameborder="0" allowfullscreen=""></iframe>
</center>

<p><br /></p>

<h1 id="added-features"><strong>Added Features</strong></h1>

<p><strong>3D Printed Buttons:</strong></p>

<p>The reason for this design being an afterthought was relizing that the copper PCB’s button controls are more difficult to use inside of the casing compared to the throughhole circuit. I elevated simple rectangle shapes to the specific size so they could fit snug inside the lasercut slot while gluing them to the SMD buttons.</p>

<center>
<img src="/IMGs/update22.jpg" alt="button design pic 1" width="88%" />
</center>

<p><br /></p>

<p><strong>Vinyl Cut Labels</strong></p>

<p>Adding the vinyl cutter was also a last minute decision to incorporate more processes into my design while getting it to stand out a little more. I used CorelDRAW to utilize its TEXT tool and manipulate it to have a hairline stroke with no fill, to then cut from vinyl material (Pen Force = 120 Gram-Force).</p>

<center>
<img src="/IMGs/update20.jpg" alt="vinyl design pic 1" width="52%" />
<img src="/IMGs/update21.jpg" alt="vinyl design pic 1" width="45%" />
</center>

<p><br /></p>

<h1 id="finished-products"><strong>Finished Products:</strong></h1>

<p><strong>Original Through-Hole Design</strong></p>
<center><img class="bordered-image" src="/IMGs/16implication1.jpg" alt="final project complete" width="48%" /></center>

<p><br /></p>

<p style="color:black; font-size: 100%; text-align: center;"><strong>Converted to Copper Milled Design + Added Features (3D Printed Buttons/Vinyl Labels)</strong></p>

<center>
<img src="/IMGs/finalproject14.jpg" alt="FINAL project pic 2" width="48%" />
<img src="/IMGs/update23.jpg" alt="FINAL project pic 2" width="48%" />
</center>

<p><br /></p>
<h1 id="digital-files"><strong>Digital Files:</strong></h1>

<p><a href="/files/clock_case_laser.cdr">Clock Case Laser.cdr</a></p>

<p><a href="/files/clock_case3d.skp">Clock Case 3D.skp</a></p>

<p><a href="/files/vinyl_sticker.cdr">Vinyl Labels.cdr</a></p>

<p><a href="/files/3d_buttons.skp">3D Buttons.skp</a></p>

<p><a href="/files/Clock.sch">Clock Circuit.sch</a></p>

<p><a href="/files/Clock.brd">Clock Circuit.brd</a></p>

<p><a href="/files/Clock.ino">Clock Arduino Code.ino</a></p>

  </div>

</article>

      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading"><strong>Contact / Info</strong></h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>
            <a href="http://www.iu1.org/fablab">www.iu1.org/fablab</a>
            </li>
            
            <li><a href="mailto:brandon.prentice@iu1.org">brandon.prentice@iu1.org</a></li>
            
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="http://git.fabacademy.org/u/BrandonPrentice"><span class="icon icon--gitlab"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="16px" height="16px" viewBox="0 0 494 455" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
    <!-- Generator: Sketch 3.2.2 (9983) - http://www.bohemiancoding.com/sketch -->
    <title>logo</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <path id="path-1" d="M0,1173.3333 L1999.99995,1173.3333 L1999.99995,0 L0,0 L0,1173.3333 L0,1173.3333 Z"></path>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
        <g id="gitlab_logo" sketch:type="MSLayerGroup" transform="translate(-359.000000, -360.000000)">
            <g id="g10" transform="translate(999.999975, 587.666648) scale(1, -1) translate(-999.999975, -587.666648) translate(0.000000, 0.999996)">
                <g id="g16">
                    <g id="g18-Clipped">
                        <mask id="mask-2" sketch:name="path22" fill="white">
                            <use xlink:href="#path-1"></use>
                        </mask>
                        <g id="path22"></g>
                        <g id="g18" mask="url(#mask-2)">
                            <g transform="translate(358.666658, 358.666658)">
                                <g id="g44" transform="translate(0.532000, 0.774933)">
                                    <path d="M491.999988,194.666662 L464.441322,279.481326 L409.82399,447.578655 C407.014656,456.226655 394.778657,456.226655 391.96799,447.578655 L337.349325,279.481326 L155.982663,279.481326 L101.362664,447.578655 C98.5533309,456.226655 86.3173312,456.226655 83.5066646,447.578655 L28.8893326,279.481326 L1.33199997,194.666662 C-1.18266664,186.930662 1.57199996,178.455996 8.1519998,173.674662 L246.665327,0.385333324 L485.179988,173.674662 C491.759988,178.455996 494.513321,186.930662 491.999988,194.666662" id="path46" fill="#FC6D26" sketch:type="MSShapeGroup"></path>
                                </g>
                                <g id="g48" transform="translate(155.197863, 1.160267)">
                                    <path d="M91.9999977,0 L91.9999977,0 L182.683995,279.095993 L1.31599997,279.095993 L91.9999977,0 L91.9999977,0 Z" id="path50" fill="#E24329" sketch:type="MSShapeGroup"></path>
                                </g>
                                <g id="g52" transform="translate(247.197860, 1.160267)">
                                    <g id="path54"></g>
                                </g>
                                <g id="g56" transform="translate(28.531199, 1.160800)">
                                    <path d="M218.666661,0 L127.982663,279.09466 L0.890666644,279.09466 L218.666661,0 L218.666661,0 Z" id="path58" fill="#FC6D26" sketch:type="MSShapeGroup"></path>
                                </g>
                                <g id="g60" transform="translate(247.197860, 1.160800)">
                                    <g id="path62"></g>
                                </g>
                                <g id="g64" transform="translate(0.088533, 0.255867)">
                                    <path d="M29.3333326,279.999993 L29.3333326,279.999993 L1.77466662,195.185328 C-0.738666648,187.449329 2.01466662,178.974662 8.59599979,174.194662 L247.109327,0.905333311 L29.3333326,279.999993 L29.3333326,279.999993 Z" id="path66" fill="#FCA326" sketch:type="MSShapeGroup"></path>
                                </g>
                                <g id="g68" transform="translate(247.197860, 1.160267)">
                                    <g id="path70"></g>
                                </g>
                                <g id="g72" transform="translate(29.421866, 280.255593)">
                                    <path d="M0,0 L127.091997,0 L72.4733315,168.097329 C69.6626649,176.746662 57.4266652,176.746662 54.617332,168.097329 L0,0 L0,0 Z" id="path74" fill="#E24329" sketch:type="MSShapeGroup"></path>
                                </g>
                                <g id="g76" transform="translate(247.197860, 1.160800)">
                                    <path d="M0,0 L90.6839977,279.09466 L217.775995,279.09466 L0,0 L0,0 Z" id="path78" fill="#FC6D26" sketch:type="MSShapeGroup"></path>
                                </g>
                                <g id="g80" transform="translate(246.307061, 0.255867)">
                                    <path d="M218.666661,279.999993 L218.666661,279.999993 L246.225327,195.185328 C248.73866,187.449329 245.985327,178.974662 239.403994,174.194662 L0.890666644,0.905333311 L218.666661,279.999993 L218.666661,279.999993 Z" id="path82" fill="#FCA326" sketch:type="MSShapeGroup"></path>
                                </g>
                                <g id="g84" transform="translate(336.973725, 280.255593)">
                                    <path d="M127.999997,0 L0.907999977,0 L55.5266653,168.097329 C58.3373319,176.746662 70.5733316,176.746662 73.3826648,168.097329 L127.999997,0 L127.999997,0 Z" id="path86" fill="#E24329" sketch:type="MSShapeGroup"></path>
                                </g>
                            </g>
                        </g>
                    </g>
                </g>
            </g>
        </g>
    </g>
</svg></span><span class="username">BrandonPrentice</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/IU1FabLab"><span class="icon icon--twitter"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">IU1FabLab</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>This is the official archive for Brandon Prentice&#39;s Fab Academy  assignments. The Fab Academy was developed to teach hands-on skills  in fab labs and began as an outreach project from MIT’s Center for  Bits and Atoms.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
